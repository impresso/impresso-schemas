{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://impresso.github.io/impresso-schemas/json/newspaper/ling_spacy.schema.json",
  "type": "object",
  "description": "Schema for validation of linguistic annotation as produced by spacy for newspaper data",
  "required": [
    "ts",
    "ci_id",
    "sents",
    "tsents",
    "char_count",
    "min_chars",
    "max_chars"
  ],
  "definitions": {
    "sents": {
      "type": "array",
      "title": "The Sents Schema",
      "description": "container for sentences (boundaries produced by spacy)",
      "items": {
        "type": "object",
        "title": "The Items Schema",
        "required": ["tokens"],
        "properties": {
          "lg": {
            "type": "string",
            "title": "The Lg Schema",
            "description": "the two-letter ISO language identifier",
            "examples": ["de"]
          },
          "tokens": {
            "type": "array",
            "title": "Tokens",
            "description": "Sequence of tokens",
            "items": {
              "type": "object",
              "title": "Token",
              "required": ["t", "p", "o"],
              "properties": {
                "t": {
                  "type": "string",
                  "title": "The T Schema",
                  "description": "token text",
                  "examples": ["Nous"]
                },
                "p": {
                  "type": "string",
                  "title": "The P Schema",
                  "description": "part-of-speech assigned to token from linguistic processing (typically UPOS or XPOS)",
                  "examples": ["PROPN"]
                },
                "o": {
                  "type": "integer",
                  "title": "The O Schema",
                  "description": "zero-based character offset corresponding to position in corresponding text element (t for title, ft for full text from rebuilt)",
                  "examples": [0],
                  "minimum": 0
                },
                "l": {
                  "type": "string",
                  "title": "The L Schema",
                  "description": "lemma of token",
                  "examples": ["travailler"]
                },
                "e": {
                  "type": "string",
                  "title": "The E Schema",
                  "description": "named entity type as IOB tag",
                  "pattern": "^[IOBES]-[A-Za-z]+$",
                  "examples": ["B-LOC"]
                }
              }
            }
          }
        }
      }
    }
  },
  "properties": {
    "ts": {
      "$id": "#/properties/ts",
      "type": "string",
      "title": "The Ts Schema",
      "description": "timestamp",
      "examples": ["2024-12-27T16:38:46Z"],
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$"
    },
    "ci_id": {
      "$id": "#/properties/ci_id",
      "type": "string",
      "title": "The content item id",
      "description": "Canonical impresso id of content item",
      "examples": ["onsjongen-1951-03-01-a-i0012"]
    },
    "sents": {
      "$ref": "#/definitions/sents"
    },
    "tsents": {
      "$ref": "#/definitions/sents"
    },
    "model_id": {
      "type": "string",
      "title": "The Model Id Schema",
      "description": "Model identifier according to impresso model description schema",
      "examples": [
        "spacy@3.6.1:de_core_news_md@3.6.0:sentencizer|tok2vec|tagger|morphologizer|lemmatizer|attribute_ruler|ner"
      ]
    },
    "lid_path": {
      "type": "string",
      "title": "The Lid Path Schema",
      "description": "Path to language identification data",
      "examples": [
        "s3://42-processed-data-final/langident/langident_v1-4-4/onsjongen/onsjongen-1951.jsonl.bz2"
      ]
    },
    "lingproc_git": {
      "type": "string",
      "title": "The Lingproc Git Schema",
      "description": "Git commit describe of the linguistic processing pipeline",
      "examples": ["unknown"]
    },
    "char_count": {
      "type": "integer",
      "title": "The Char Count Schema",
      "description": "Character count of the concatenated title and full text",
      "examples": [65]
    },
    "min_chars": {
      "type": "integer",
      "title": "The Min Chars Schema",
      "description": "Minimum number of characters for a valid content item (including title and full text)",
      "examples": [50]
    },
    "max_chars": {
      "type": "integer",
      "title": "The Max Chars Schema",
      "description": "Maximum number of characters for a valid content item (including title and full text)",
      "examples": [50000]
    }
  }
}
